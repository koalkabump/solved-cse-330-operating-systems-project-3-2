Download Link: https://assignmentchef.com/product/solved-cse-330-operating-systems-project-3-2
<br>
<strong>Implementing Semaphores</strong>

Using the threads, you have implemented, implement semaphores. Since the threads are nonpreemptive, you do not need to ensure atomicity of the semaphores (they are already atomic).

Implement the following: (in a file called sem.h)

<ol>

 <li><strong>Semaphore data structure: </strong>A value field and a queue of TCBs.</li>

 <li><strong>InitSem(semaphore, value):</strong> Initializes the value field with the specified value.</li>

 <li><strong>P(semaphore):</strong> The P routine decrements the semaphore, and if the value is less than zero then blocks the process in the queue associated with the semaphore.</li>

 <li><strong>V(semaphore):</strong> The V routine increments the semaphore, and if the value is 0 or negative, then takes a PCB out of the semaphore queue and puts it into the run queue. Note: <strong>The V routine also “<em><u>yields</u></em>” to the next runnable process.</strong> //this is important.</li>

 <li>Implement a solution to the Producer Consumer Problem with the following settings:</li>

</ol>

<em><u>There are three producers all in infinite while loops each producing 1 item in one loop</u></em><em>. </em>

<em><u>There are three consumers all in infinite while loops each consuming 1 item in one loop</u></em><em>.</em>

<em><u>Every consumer or producer yields at the end of a loop to the next process</u></em><em>. </em>

<em><u>Consider that the buffer size is 6 items.</u></em>

<em><u>Consider that in your ready queue there are three consumers then seven producers then</u></em><em> <u>7 consumers and finally three more producers .</u> </em>

<em><u>Run the code for infinitely long.</u></em>

<em><u>At the end of each loop before yield the consumer should print the following:</u></em><em> <u>if consumer X is consuming an item then print</u></em>

<em><u>“This is consumer X consuming item generated by producer Y”</u></em><em> <u>else print</u></em>

<em><u>“Consumer X is waiting”</u></em>

<em><u>At the end of each loop before yield the producer should print the following:</u></em>

<em><u>if producer X is producing an item then print “This is producing X producing item number Y”</u></em><em> <u>else print</u></em>

<em><u>“Producer X is waiting”</u></em>

<strong> Submission and Grading:</strong>

Your project must consist of 4 files

<ol>

 <li>h (uses ucontext.h)</li>

 <li>h (includes TCB.h)</li>

 <li>h (includes q.h)</li>

 <li>h (includes threads.h)</li>

 <li>proj-3.c (includes threads.h) – must contain your name(s) in comments @ beginning (make sure the compile command, “gcc proj-3.c” does the correct compilation).</li>

</ol>

All 5 files are to be ZIPPED into one zip or gzip file and uploaded in Canvas. The name of this file should reflect the name of the student (abbreviated, do not make it too long).

<strong>Note: Grading is on Ubuntu. It is in your interest to make sure the program compiles and runs in the target test platform.</strong>